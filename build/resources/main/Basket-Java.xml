<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <util:properties id="jdbcProps" location="bd.config"/>


    <!-- <bean id="valMeci" class="validators.MeciValidator"/> -->

    <bean id="jdbcInv" class="repositories.JDBCInvariant">
        <constructor-arg ref="jdbcProps"/>
    </bean>

    <!-- <constructor-arg value=“Pizza.txt” /> -->
    <!-- <constructor-arg index="0" value=“Mere" /> -->
    <!-- <constructor-arg type="java.lang.String" value=“Mere" /> -->

    <bean id="valEchipa" class="validators.EchipaValidator" factory-method="getInstance"/>

    <bean id="valClient" class="validators.ClientValidator" factory-method="getInstance"/>

    <bean id="valBilet" class="validators.BiletValidator" factory-method="getInstance"/>


    <bean id="repoMeci" class="repositories.MeciDataBaseRepository">
        <!-- <constructor-arg ref="valMeci"/> -->
        <constructor-arg>
            <bean class="validators.MeciValidator" factory-method="getInstance"/>
        </constructor-arg>
    </bean>

    <bean id="repoEchipa" class="repositories.EchipaDataBaseRepository">
        <constructor-arg ref="valEchipa"/>
    </bean>

    <bean id="repoClient" class="repositories.ClientDataBaseRepository">
        <constructor-arg ref="valClient"/>
    </bean>

    <bean id="repoBilet" class="repositories.BiletDataBaseRepository">
        <constructor-arg ref="valBilet"/>
    </bean>



    <bean id="servMeci" class="services.MeciService">
        <constructor-arg ref="repoMeci"/>
    </bean>

    <bean id="servEchipa" class="services.EchipaService">
        <constructor-arg ref="repoEchipa"/>
    </bean>

    <bean id="servClient" class="services.ClientService">
        <constructor-arg ref="repoClient"/>
    </bean>

    <bean id="servBilet" class="services.BiletService">
        <constructor-arg ref="repoBilet"/>
    </bean>

    <bean id="masterService" class="services.MasterService">
        <constructor-arg index="0" ref="servBilet"/>
        <constructor-arg index="1" ref="servClient"/>
        <constructor-arg index="2" ref="servEchipa"/>
        <constructor-arg index="3" ref="servMeci"/>
    </bean>

</beans>