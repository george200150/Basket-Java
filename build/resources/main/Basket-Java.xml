<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">


    <util:properties id="jdbcProps" location="bd.config"/>

    <bean id="jdbcInv" class="repositories.repos.JDBCInvariant">
        <constructor-arg ref="jdbcProps"/>
    </bean>


    <!-- <bean id="valMeci" class="model.validators.MeciValidator"/> -->

    <bean id="valEchipa" class="model.validators.EchipaValidator" factory-method="getInstance"/>

    <bean id="valClient" class="model.validators.ClientValidator" factory-method="getInstance"/>

    <bean id="valBilet" class="model.validators.BiletValidator" factory-method="getInstance"/>


    <bean id="repoMeci" class="repositories.repos.MeciDataBaseRepository">
        <!-- <constructor-arg ref="valMeci"/> -->
        <constructor-arg>
            <bean class="model.validators.MeciValidator" factory-method="getInstance"/>
        </constructor-arg>
    </bean>

    <bean id="repoEchipa" class="repositories.repos.EchipaDataBaseRepository">
        <constructor-arg ref="valEchipa"/>
    </bean>

    <bean id="repoClient" class="repositories.repos.ClientDataBaseRepository">
        <constructor-arg ref="valClient"/>
    </bean>

    <bean id="repoBilet" class="repositories.repos.BiletDataBaseRepository">
        <constructor-arg ref="valBilet"/>
    </bean>



    <bean id="servMeci" class="services.MeciService">
        <constructor-arg ref="repoMeci"/>
    </bean>

    <bean id="servEchipa" class="services.EchipaService">
        <constructor-arg ref="repoEchipa"/>
    </bean>

    <bean id="servClient" class="services.ClientService">
        <constructor-arg ref="repoClient"/>
    </bean>

    <bean id="servBilet" class="services.BiletService">
        <constructor-arg ref="repoBilet"/>
    </bean>

    <bean id="masterService" class="services.MasterService">
    <constructor-arg index="0" ref="servBilet"/>
    <constructor-arg index="1" ref="servClient"/>
    <constructor-arg index="2" type="services.EchipaService" ref="servEchipa"/>
    <constructor-arg index="3" ref="servMeci"/>
</bean>

</beans>
